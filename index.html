<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Model Context Protocol Server For Your R Sessions • acquaint</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Model Context Protocol Server For Your R Sessions">
<meta name="description" content="Implements a model context protocol (MCP) server for your R sessions, allowing MCP-compatible apps like Claude Desktop and Claude Code to run R code in your active R sessions in order to better answer questions. By default, the package supplies a set of tools that allow models to inspect your R environment and peruse package documentation, but supports arbitrary R functions as tools.">
<meta property="og:description" content="Implements a model context protocol (MCP) server for your R sessions, allowing MCP-compatible apps like Claude Desktop and Claude Code to run R code in your active R sessions in order to better answer questions. By default, the package supplies a set of tools that allow models to inspect your R environment and peruse package documentation, but supports arbitrary R functions as tools.">
<meta property="og:image" content="https://posit-dev.github.io/acquaint/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">acquaint</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/server.html">R as an MCP server</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/posit-dev/acquaint/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="acquaint-">acquaint 
<a class="anchor" aria-label="anchor" href="#acquaint-"></a>
</h1>
</div>
<!-- badges: start -->

<p>acquaint implements the [Model Context Protocol] in R. There are two sides to acquaint:</p>
<ul>
<li>
<strong>R as an MCP server</strong>: When configured with acquaint, MCP-enabled tools like Claude Desktop, Claude Code, and VS Code GitHub Copilot can run R code <em>in the sessions you have running</em> to answer your questions. While the package supports configuring arbitrary R functions, acquaint provides a default set of tools <a href="https://posit-dev.github.io/btw/" class="external-link">from btw</a> to peruse the documentation of packages you have installed, check out the objects in your global environment, and retrieve metadata about your session and platform.</li>
<li>
<strong>R as an MCP client</strong>: Register third-party MCP servers with ellmer chats to integrate additional context into e.g. <a href="https://github.com/posit-dev/shinychat" class="external-link">shinychat</a> and <a href="https://posit-dev.github.io/querychat/" class="external-link">querychat</a> apps.</li>
</ul>
<blockquote>
<p>IMPORTANT: This package is highly experimental and its interface may change rapidly!</p>
</blockquote>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of acquaint like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"posit-dev/acquaint"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="r-as-an-mcp-server">R as an MCP server<a class="anchor" aria-label="anchor" href="#r-as-an-mcp-server"></a>
</h3>
<p>acquaint can be hooked up to any application that supports MCP. For example, to use with Claude Desktop, you might paste the following in your Claude Desktop configuration (on macOS, at <code>~/Library/Application Support/Claude/claude_desktop_config.json</code>):</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  <span class="dt">"mcpServers"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>    <span class="dt">"r-acquaint"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>      <span class="dt">"command"</span><span class="fu">:</span> <span class="st">"Rscript"</span><span class="fu">,</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>      <span class="dt">"args"</span><span class="fu">:</span> <span class="ot">[</span><span class="st">"-e"</span><span class="ot">,</span> <span class="st">"acquaint::mcp_server()"</span><span class="ot">]</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>Or, to use with Claude Code, you might type in a terminal:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">claude</span> mcp add <span class="at">-s</span> <span class="st">"user"</span> r-acquaint <span class="at">--</span> Rscript <span class="at">-e</span> <span class="st">"acquaint::mcp_server()"</span></span></code></pre></div>
<p>Then, if you’d like models to access variables in specific R sessions, call <code><a href="reference/server.html">acquaint::mcp_session()</a></code> in those sessions. (You might include a call to this function in your .Rprofile, perhaps using <code>usethis::edit_r_profile()</code>, to automatically register every session you start up.)</p>
</div>
<div class="section level3">
<h3 id="r-as-an-mcp-client">R as an MCP client<a class="anchor" aria-label="anchor" href="#r-as-an-mcp-client"></a>
</h3>
<p>acquaint uses the Claude Desktop configuration file format to register third-party MCP servers, as most MCP servers provide setup instructions for Claude Desktop in their documentation. For example, here’s what the <a href="https://github.com/github/github-mcp-server" class="external-link">official GitHub MCP server</a> configuration would look like:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="dt">"mcpServers"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>    <span class="dt">"github"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>      <span class="dt">"command"</span><span class="fu">:</span> <span class="st">"docker"</span><span class="fu">,</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>      <span class="dt">"args"</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>        <span class="st">"run"</span><span class="ot">,</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>        <span class="st">"-i"</span><span class="ot">,</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>        <span class="st">"--rm"</span><span class="ot">,</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>        <span class="st">"-e"</span><span class="ot">,</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>        <span class="st">"GITHUB_PERSONAL_ACCESS_TOKEN"</span><span class="ot">,</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>        <span class="st">"ghcr.io/github/github-mcp-server"</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>      <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>      <span class="dt">"env"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>        <span class="dt">"GITHUB_PERSONAL_ACCESS_TOKEN"</span><span class="fu">:</span> <span class="st">"&lt;YOUR_TOKEN&gt;"</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p>Once the configuration file has been created (by default, acquaint will look to <code>file.path("~", ".config", "acquaint", "config.json")</code>), <code><a href="reference/client.html">mcp_tools()</a></code> will return a list of ellmer tools which you can pass directly to the <code>$set_tools()</code> method from ellmer:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>ch <span class="ot">&lt;-</span> ellmer<span class="sc">::</span><span class="fu">chat_anthropic</span>()</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>ch<span class="sc">$</span><span class="fu">set_tools</span>(<span class="fu">mcp_tools</span>())</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>ch<span class="sc">$</span><span class="fu">chat</span>(<span class="st">"What issues are open on posit-dev/acquaint?"</span>)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>In Claude Desktop, I’ll write the following:</p>
<blockquote>
<p>Using the R packages I have installed, write code to download data on flights in/out of Chicago airports in 2024.</p>
</blockquote>
<p>In a typical chat interface, I’d be wary of two failure points here:</p>
<ol style="list-style-type: decimal">
<li>The model doesn’t know which packages I have installed.</li>
<li>If the model correctly guesses which packages I have installed, there may not be enough information about how to <em>use</em> the packages baked into its weights to write correct code.</li>
</ol>
<p><img src="https://github.com/user-attachments/assets/821ea3d6-4e30-46d6-ab9b-301276af2c35" alt="A screencast of a chat with Claude. I ask 'Using the R packages I have installed, write code to download data on flights in/out of Chicago airports in 2024.' and, after searching through the documentation of my currently installed R packages, Claude writes R code to do so." width="100%"></p>
<p>Through first searching through my installed packages, Claude can locate the anyflights package, which seems like a reasonable solution. The model then discovers the package’s <code>anyflights()</code> function and reads its documentation, and can pattern-match from there to write the correct code.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/posit-dev/acquaint/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/posit-dev/acquaint/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing acquaint</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Simon Couch <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5676-5107" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Winston Chang <br><small class="roles"> Author </small>   </li>
<li>Charlie Gao <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-0750-061X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Posit Software, PBC <br><small class="roles"> Copyright holder, funder </small>  <a href="https://ror.org/03wc8by49" class="external-link"><img src="https://raw.githubusercontent.com/ror-community/ror-logos/main/ror-icon-rgb.svg" class="ror" alt="ROR"></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://CRAN.R-project.org/package=acquaint" class="external-link"><img src="https://www.r-pkg.org/badges/version/acquaint" alt="CRAN status"></a></li>
<li><a href="https://github.com/simonpcouch/acquaint/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/simonpcouch/acquaint/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Simon Couch, Winston Chang, Charlie Gao, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
